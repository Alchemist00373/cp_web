<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Community Forum - Thousand Shores</title>
  <link rel="icon" type="image/png" href="../images/fav.png" />

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />

  <!-- CSS Files -->
  <link rel="stylesheet" href="../css/background.css" />
  <link rel="stylesheet" href="../css/header.css" />
  <link rel="stylesheet" href="../css/footer.css" />
  <link rel="stylesheet" href="../css/csscomponents/forum.css" />
  <link rel="stylesheet" href="../css/csscomponents/loader.css">
  

  <!-- JS -->
  <script defer type="module" src="../Auth/authdrop.js"></script>
  <script defer type="module" src="../Components/forum.js"></script>
  <script type="module" src="../Auth/route.js" defer></script>
</head>

<body>
  <!-- Header -->
  <header class="main-header">
    <nav>
      <div class="background">
        <div class="logo">
          <img src="../images/lg1.jpg" alt="Logo" />
          <span>Thousand Shores</span>
        </div>

        <div class="nav-links">
          <ul>
            <li><a href="../html/home.html">Home</a></li>
            <li><a href="../html/about.html">About</a></li>
            <li><a class="active" href="../html/forum.html">Forum</a></li>
          </ul>
        </div>

        <!-- Auth Buttons -->
        <div class="auth-buttons" id="authButtons">
          <button onclick="location.href='../html/login.html'">Login</button>
          <button onclick="location.href='../html/sign-up.html'">Sign Up</button>
        </div>

        <!-- Profile Dropdown -->
        <div class="profile-dropdown" id="profileDropdown" hidden>
          <button class="profile-btn" id="profileBtn">
            <img id="profilePic" alt="Profile" class="avatar" />
            <!-- <span id="profileName">User</span> -->
          </button>
          <div class="dropdown-menu" id="dropdownMenu">
            <a href="../html/profile.html">Profile</a>
            <button id="logoutBtn">Logout</button>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Forum -->
  <div class="container">
    <header class="forum-header">
      <h1>Community Forum</h1>

      <div class="controls">

        <input id="search" type="search" placeholder="Search posts..." aria-label="Search posts" />
        <!--  <select id="sortSelect" title="Sort posts">
          <option value="recent">Most recent</option>
          <option value="popular">Most popular</option>
        </select>-->

        <button id="newPostToggle" class="btn ghost add-post">Create Discussion</button>
      </div>
    </header>

    <!-- New Post Section -->
    <section id="newPostSection" class="new-post" hidden>
      <form id="newPostForm">
        <label for="postTitle">Title</label>
        <input id="postTitle" name="postTitle" type="text" placeholder="Post title" required class="input-full" />

        <label for="postBody" class="label-block">Content</label>
        <textarea id="postBody" name="postBody"
          placeholder="Share your strategy, ask about history, or post screenshots..."></textarea>

        <div class="row form-actions">
          <button type="button" id="cancelNew" class="btn ghost">Cancel</button>
          <button type="submit" class="btn">Post</button>
        </div>
      </form>
    </section>

    <!-- Posts -->
    <section id="postsList" class="posts" aria-live="polite"></section>

    <!-- Pagination
    <nav class="pagination" aria-label="Forum pagination">
      <button class="pill" id="prevPage">Prev</button>
      <div class="pill" id="pageInfo">Page 1</div>
      <button class="pill" id="nextPage">Next</button>
    </nav> -->
  </div>

  <!-- Post Template -->
  <template id="postTemplate">
    <article class="post-card" role="article" aria-labelledby="post-title">
      <div>
        <div class="post-meta">
          <span class="post-author"></span> â€¢ <time class="post-time"></time>
        </div>
        <h2 class="post-title" id="post-title"></h2>
        <p class="post-body"></p>

        <!-- Comments -->
        <section class="comments" aria-live="polite">
          <div class="comment-list"></div>

          <form class="comment-form">
            <input type="text" class="comment-input" placeholder="Write a comment..." />
            <button type="submit" class="btn">Comment</button>
          </form>
        </section>
      </div>

      <div class="post-actions" role="group" aria-label="Post actions">
        <div>
          <button class="btn ghost toggle-comments">Comments</button>
        </div>
        <div>
          <button class="btn ghost edit-post" style="display: none">Edit</button>
          <button class="btn ghost delete-post" style="display: none">Delete</button>
        </div>
      </div>
    </article>
  </template>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="contact-info">
        <h3>Contact Us</h3>
        <a href="">
          <p><i class="bi bi-envelope-at-fill"></i> : thousandshoresgmail.com</p>
        </a>
        <a href="">
          <p><i class="bi bi-facebook"></i> : thousandshores</p>
        </a>
      </div>

      <div>
        <h3>Follow Us</h3>
        <div class="social-icons">
          <a href="https://www.facebook.com/" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
          <a href="https://x.com/" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
          <a href="https://www.instagram.com/" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
          <a href="https://www.tiktok.com/explore" aria-label="Tiktok"><i class="bi bi-tiktok"></i></a>
        </div>
      </div>

      <div>
        <h3>Quick Links</h3>
        <div class="quick-links">
          <ul>
            <li><a href="../html/home.html">Home</a></li>
            <li><a href="../html/forum.html">Forum</a></li>
            <li><a href="../html/about.html">About</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="divider"></div>
    <p class="copyright">&copy; 2025 Capstone Team. All rights reserved.</p>
  </footer>


  <!-- Toast -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Confirm Modal -->
  <div id="modalOverlay" class="modal-overlay hidden">
    <div class="modal">
      <p id="modalMessage"></p>
      <div class="modal-actions">
        <button id="modalCancel" class="btn ghost">Cancel</button>
        <button id="modalConfirm" class="btn">Confirm</button>
      </div>
    </div>
  </div>

  <!-- Edit Modal -->
  <div id="editModal" class="modal-overlay hidden">
    <div class="modal">
      <h3 id="editModalTitle">Edit Post</h3>
      <input id="editTitle" type="text" placeholder="Title" class="input-full" />
      <textarea id="editBody" placeholder="Content" class="input-full"></textarea>
      <div class="modal-actions">
        <button id="editCancel" class="btn ghost">Cancel</button>
        <button id="editSave" class="btn">Save</button>
      </div>
    </div>
  </div>


</body>

</html>